<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SPA</title>
  <link href="css/style.css" rel="stylesheet">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
</head>
<body>
<div id="wrapper">
  <input type="button" value="Main" onclick="switchToFirst()">
  <input type="button" value="Game" onclick="switchToSecond()">
  <input type="button" value="How to drive" onclick="switchToThird()">
  <input type="button" value="About" onclick="switchToFour()">
  <div id="front"></div>
  <footer id="footer">
    <p>Lorem ipsum dolor sit amet.</p>
  </footer>
</div>
<script>
  'use strict';

  var bg_Offset = 0;
  function scroll_bg(){
    bg_Offset = bg_Offset - 1;
    if (bg_Offset > 600) bg_Offset = 0;
    $("body").css("backgroundPosition", bg_Offset + "px 0px");
  }
  $(document).ready(function(){ setInterval("scroll_bg()",50); });

</script>
<script>
  window.onhashchange = renderNewState;
  function renderNewState() {
    var hash = window.location.hash;
    var state = decodeURIComponent(hash.substr(1));
    ''
    if (state === '') {
      state = {page: 'first'};
    } else {
      state = JSON.parse(state);
    }

    var page = '';

    switch(state.page) {
      case 'first':
        page += '<img id="plane" src="img/plane.png" alt="" style="transform: rotate(-30deg)">' +
          '<img src="http://x-lines.ru/letters/i/cyrillictechno/0221/cc66a7/60/0/et38k5umrbegaamqcw.png">' +
          '<img src="http://x-lines.ru/letters/i/cyrillictechno/1391/000000/26/0/cwoghedwrb1zredwrbo1y4jypaog1edqrbu1yebychognedprb1o.png">';
        document.getElementById('footer').style.display = 'block';

        break;
      case 'second':
        page += '<canvas id="canvas" width="1000" height="568"></canvas>\n' +
          '  <!--<canvas id="c" width="1000" height="600"></canvas>фейерверк-->\n' +
          '  <div id="main-background"></div>\n' +
          '  <div id="bg-win"></div>\n' +
          '  <div id="menu">\n' +
          '    <img src="img/note.png" alt="" onclick="new Audio(\'music.mp3\').play()" id="mus">\n' +
          '    <p id="pause">PAUSE</p>\n' +
          '    <p id="read-rules">RULES</p>\n' +
          '    <p id="time">TIMER</p>\n' +
          '  </div>\n' +
          '  <div id="forPlay">\n' +
          '    <p id="play">\n' +
          '      Play\n' +
          '      <div class="circle" onclick="startGame()"></div>\n' +
          '    </p>\n' +
          '  </div>\n' +
          '  <div id="lose">\n' +
          '    <p id="play-again">\n' +
          '      Play again\n' +
          '    <div class="circle2" onclick="reload()"></div>\n' +
          '    </p>\n' +
          '  </div>\n' +
          '  <div id="logo">\n' +
          '    <a href="">\n' +
          '      <img src="img/plane.png" alt="">\n' +
          '    </a>\n' +
          '  </div>' ;
        document.getElementById('footer').style.display = 'none';
        break;
      case 'third':
        page += '<img src="http://x-lines.ru/letters/i/cyrillictechno/0221/cc66a7/60/0/et38k5umrbegaamqcw.png">';
        document.getElementById('footer').style.display = 'block';
        break;
      case 'four':
        page += '<img src="http://x-lines.ru/letters/i/cyrillictechno/0221/cc66a7/60/0/et38k5umrbegaamqcw.png">';
        document.getElementById('footer').style.display = 'block';
        break;
    }
    document.getElementById('front').innerHTML = page;
  }

  function switchToState(state) {
    location.hash = encodeURIComponent(JSON.stringify(state));
  }
  function switchToFirst() {
    switchToState({page: 'first'});
  }
  function switchToSecond() {
    switchToState({page: 'second'});
  }
  function switchToThird() {
    switchToState({page: 'third'});
  }
  function switchToFour() {
    switchToState({page: 'four'});
  }
  renderNewState();
</script>

<script src="js/js.js"></script>
</body>
</html>














